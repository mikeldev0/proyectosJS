---
import Loading from '../components/Loading.astro';

const DEFAULT_URL = "https://proyectosjs.mikeldev.com";
interface Metadata {
	property?: string;
	name?: string;
	content?: string;
	link?: string;
	type?: string;
	title?: string;
	href?: string;
}

interface Props {
	metadata?: Metadata[];
	title?: string;
	url?: string;
}

const DEFAULT_METADATA: Metadata[] = [
	{ name: "viewport", content: "width=device-width, initial-scale=1" },
	{ name: "generator", content: Astro.generator },
	{ name: "description", content: "Explora una colección completa de proyectos web interactivos desarrollados con JavaScript vanilla. Incluye ejemplos prácticos, juegos, aplicaciones y ejercicios de programación frontend." },
	{ name: "author", content: "Mikel Echeverria" },
	{ name: "keywords", content: "JavaScript, proyectos web, desarrollo frontend, vanilla JS, Mikel Echeverria, desarrollo web, aplicaciones web, programación JavaScript" },
	{ name: "robots", content: "index, follow, max-image-preview:large"},
	{ property: "og:title", content: "Proyectos JavaScript | Mikel Echeverria" },
	{ property: "og:description", content: "Explora una colección completa de proyectos web interactivos desarrollados con JavaScript vanilla. Incluye ejemplos prácticos, juegos y aplicaciones." },
	{ property: "og:type", content: "website" },
	{ property: "og:url", content: DEFAULT_URL },
	{ property: "og:image", content: `${DEFAULT_URL}/preview.webp` },
	{ property: "og:image:alt", content: "Proyectos JavaScript de Mikel Echeverria" },
	{ property: "og:site_name", content: "Proyectos JavaScript" },
	{ property: "og:locale", content: "es_ES" },
	{ property: "og:image:width", content: "1200" },
	{ property: "og:image:height", content: "630" },
	{ property: "og:image:type", content: "image/webp" },
	{ name: "twitter:card", content: "summary_large_image" },
	{ name: "twitter:creator", content: "@mikelecheve" },
	{ name: "twitter:title", content: "Proyectos JavaScript | Mikel Echeverria" },
	{ name: "twitter:description", content: "Explora una colección completa de proyectos web interactivos desarrollados con JavaScript vanilla. Incluye ejemplos prácticos y aplicaciones." },
	{ name: "twitter:image", content: `${DEFAULT_URL}/preview.webp` },
	{ name: "twitter:image:alt", content: "Proyectos JavaScript de Mikel Echeverria" },
	{ name: "keywords", content: "JavaScript vanilla, proyectos web, desarrollo frontend, ejemplos JavaScript, tutoriales JavaScript, aplicaciones web interactivas, ejercicios JavaScript, portfolio desarrollo web, Mikel Echeverria desarrollador" },
	{ name: "theme-color", content: "#ffff" },
	{ name: "format-detection", content: "telephone=no" },
	{ name: "apple-mobile-web-app-capable", content: "yes" },
	{ name: "apple-mobile-web-app-status-bar-style", content: "black-translucent" },
	{ link: "alternate", type: "application/rss+xml", title: "RSS Feed", href: "/rss.xml" },
];

const DEFAULT_JSON_LD = {
	"@context": "https://schema.org",
	"@type": "WebSite",
	"name": "Proyectos JavaScript",
	"url": DEFAULT_URL,
	"author": {
		"@type": "Person",
		"name": "Mikel Echeverria",
		"url": "https://github.mikeldev.com/",
		"sameAs": [
			"https://x.com/mikelecheve",
			"https://github.mikeldev.com/",
			"https://www.linkedin.com/in/mikel-echeverria/"
		]
	},
	"description": "Explora una colección completa de proyectos web interactivos desarrollados con JavaScript vanilla. Incluye ejemplos prácticos, juegos, aplicaciones y ejercicios de programación frontend.",
	"image": `${DEFAULT_URL}/preview.webp`,
	"inLanguage": "es",
	"potentialAction": {
		"@type": "SearchAction",
		"target": `${DEFAULT_URL}/search?q={search_term_string}`,
		"query-input": "required name=search_term_string"
	}
};

const {
	metadata = DEFAULT_METADATA,
	title = "Proyectos 100% JavaScript | Mikel Echeverria",
	url = DEFAULT_URL,
} = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/favicon.ico" />
		<link rel="manifest" href="/manifest.json" />
		<title>{title}</title>
		<link rel="canonical" href={url} />
		{metadata.map(meta => (
			meta.link ? <link {...meta} /> : <meta {...meta} />
		))}
		<script type="application/ld+json" set:html={JSON.stringify(DEFAULT_JSON_LD)}>
		</script>
	</head>
	<body>
		 <Loading />
		<slot />
	</body>
</html>

<style>
	*, ** {
		box-sizing: border-box;
	}

	html {
		font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
	}

	html,
	body {
		margin: 0;
		width: 100%;
		height: 100%;
		scroll-behavior: smooth;
	}
</style>
